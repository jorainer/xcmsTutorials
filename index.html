<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This resource contains examples and tutorials for the analysis of
             LC-MS data using the *MsExperiment*, *Spectra* and *xcms* packages.
             Various examples show data handling, representation, visualization
             and analysis of LC-MS data with these packages. A special emphasis
             is given on the definition of various data set-specific parameters
             for analysis algorithms of the *xcms* package.">
<title>Exploring and Analyzing LC-MS data with Spectra and xcms • xcmsTutorials</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Exploring and Analyzing LC-MS data with Spectra and xcms">
<meta property="og:description" content="This resource contains examples and tutorials for the analysis of
             LC-MS data using the *MsExperiment*, *Spectra* and *xcms* packages.
             Various examples show data handling, representation, visualization
             and analysis of LC-MS data with these packages. A special emphasis
             is given on the definition of various data set-specific parameters
             for analysis algorithms of the *xcms* package.">
<meta property="og:image" content="https://jorainer.github.io/xcmsTutorials/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">xcmsTutorials</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/xcms-preprocessing.html">Exploring and Analyzing LC-MS Data with Spectra and xcms</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jorainer/xcmsTutorials/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="exploring-and-analyzing-lc-ms-data-with-spectra-and-xcms">Exploring and analyzing LC-MS data with <em>Spectra</em> and <em>xcms</em>
<a class="anchor" aria-label="anchor" href="#exploring-and-analyzing-lc-ms-data-with-spectra-and-xcms"></a>
</h1>
</div>
<p><a href="https://creativecommons.org/licenses/by-nc/4.0/" class="external-link"><img src="https://img.shields.io/badge/License-CC%20BY--NC%204.0-lightgrey.svg" alt="License: CC BY-NC 4.0"></a></p>
<p><img src="reference/figures/xcms.png" alt="xcms"><img src="reference/figures/MsExperiment.png" alt="MsExperiment"><img src="reference/figures/Spectra-rainbow.png" alt="Spectra"><img src="reference/figures/MetaboCoreUtils.png" alt="MetaboCoreUtils"><img src="reference/figures/MsCoreUtils.png" alt="MsCoreUtils"></p>
<p>This workshop provides an overview of recent developments in Bioconductor to work with mass spectrometry data (<a href="https://github.com/RforMassSpectrometry/MsExperiment" class="external-link">MsExperiment</a>, <a href="https://github.com/RforMassSpectrometry/Spectra" class="external-link">Spectra</a>) and specifically LC-MS data (<a href="https://github.com/sneumann/xcms" class="external-link">xcms</a>) and walks through the preprocessing of a small data set emphasizing on selection of data-dependent settings for the individual preprocessing steps.</p>
<p>Covered topics are:</p>
<ul>
<li><p>Data import and representation.</p></li>
<li><p>Accessing, subsetting and visualizing data.</p></li>
<li><p>Centroiding of profile mode MS data.</p></li>
<li><p>Chromatographic peak detection.</p></li>
<li><p>Empirically determine appropriate settings for the analyzed data set.</p></li>
<li><p>Evaluation of identified peaks.</p></li>
<li><p>Alignment (retention time correction).</p></li>
<li><p>Correspondence (grouping of chromatographic peaks across samples).</p></li>
</ul>
<p>The full R code of all examples along with comprehensive descriptions is provided in the <a href="./vignettes/xcms-preprocessing.Rmd">xcms-preprocessing.Rmd</a> file. This file can be opened with e.g. RStudio which allows execution of the individual R commands (see section below for additionally required R packages). The R command <code>rmarkdown::render("xcms-preprocessing.Rmd")</code> would generate the html file <a href="https://jorainer.github.io/xcmsTutorials/xcms-preprocessing.html">xcms-preprocessing.html</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The workshop files along with an R runtime environment including all required packages and the RStudio (Posit) editor are all bundled in a <em>docker</em> container. After installation, this docker container can be run on the computer and the code and examples from the workshop can be evaluated within this environment (without the need to install any additional packages or files). The required steps for installation are:</p>
<ul>
<li>If you don’t already have, install <a href="https://www.docker.com/" class="external-link">docker</a>. Find installation information <a href="https://docs.docker.com/desktop/" class="external-link">here</a>.</li>
<li>Get the <a href="https://hub.docker.com/r/jorainer/xcms_tutorials" class="external-link">docker image</a> of this tutorial with <code>docker pull jorainer/xcms_tutorials:latest</code>.</li>
<li>Start docker using</li>
</ul>
<pre><code>  docker run \
      -e PASSWORD=bioc \
      -p 8787:8787 \
      jorainer/xcms_tutorials:latest</code></pre>
<ul>
<li>Enter <code>http://localhost:8787</code> in a web browser and log in with username <code>rstudio</code> and password <code>bioc</code>.</li>
<li>In the RStudio server version: open any of the R-markdown (<em>.Rmd</em>) files in the <em>vignettes</em> folder and evaluate the R code blocks in that document.</li>
</ul>
<p>For manual installation, an R version &gt;= 4.3.0 is required as well as recent versions of the packages <code>MsExperiment</code>, <code>Spectra</code> and in particular the <code>xcms</code> (version &gt;= 3.99.0 is needed). These can be installed using the code below:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span></span>
<span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://bioconductor.github.io/BiocManager/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="st">"jorainer/xcmsTutorials"</span>,</span>
<span>    dependencies <span class="op">=</span> <span class="cn">TRUE</span>, ask <span class="op">=</span> <span class="cn">FALSE</span>, update <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="contribution">Contribution<a class="anchor" aria-label="anchor" href="#contribution"></a>
</h2>
<p>For contributions, see the <a href="https://rformassspectrometry.github.io/RforMassSpectrometry/articles/RforMassSpectrometry.html#contributions" class="external-link">RforMassSpectrometry contributions guideline</a>.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>See the <a href="https://rformassspectrometry.github.io/RforMassSpectrometry/articles/RforMassSpectrometry.html#code-of-conduct" class="external-link">RforMassSpectrometry Code of Conduct</a>.</p>
</div>
<div class="section level2">
<h2 id="additional-documentation-resources-and-tutorials">Additional documentation resources and tutorials<a class="anchor" aria-label="anchor" href="#additional-documentation-resources-and-tutorials"></a>
</h2>
<ul>
<li>Tutorial with additional examples and explanations for MS2-based annotations: <a href="https://jorainer.github.io/SpectraTutorials/" class="external-link uri">https://jorainer.github.io/SpectraTutorials/</a>
</li>
<li>Repository of the <code>MsCoreUtils</code> package: <a href="https://rformassspectrometry.github.io/MsCoreUtils/" class="external-link uri">https://rformassspectrometry.github.io/MsCoreUtils/</a>
</li>
<li>Repository of the <code>MetaboCoreUtils</code> package: <a href="https://rformassspectrometry.github.io/MetaboCoreUtils/" class="external-link uri">https://rformassspectrometry.github.io/MetaboCoreUtils/</a>
</li>
<li>Repository of the <code>Spectra</code> package: <a href="https://rformassspectrometry.github.io/Spectra/" class="external-link uri">https://rformassspectrometry.github.io/Spectra/</a>
</li>
<li>Repository of the <code>MetaboAnnotation</code> package: <a href="https://rformassspectrometry.github.io/MetaboAnnotation/" class="external-link uri">https://rformassspectrometry.github.io/MetaboAnnotation/</a>
</li>
<li>Repository of the <code>CompoundDb</code> package: <a href="https://rformassspectrometry.github.io/CompoundDb/" class="external-link uri">https://rformassspectrometry.github.io/CompoundDb/</a>
</li>
</ul>
</div>
</div>
<div class="section level1">
<h1 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h1>
<p>Thank you to <a href="https://github.com/philouail" class="external-link">Philippine Louail</a> for fixing typos and suggesting improvements.</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jorainer/xcmsTutorials/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/jorainer/xcmsTutorials/issues/new" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/Artistic-2.0" class="external-link">Artistic-2.0</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing xcmsTutorials</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Johannes Rainer <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6977-7147" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Johannes Rainer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
